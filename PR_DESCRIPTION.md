# Move backend to Firebase Authentication + Firestore

## Summary
Replace Supabase with Firebase email-link authentication and Firestore-backed storage so user progress and insights sync across devices without Supabase credentials.

## Features
- ✅ Firebase email-link (passwordless) login flow
- ✅ Firestore-backed storage layer (module progress, interactive modules, insights)
- ✅ Automatic localStorage → Firestore migration on first login
- ✅ Admin dashboard reads from Firestore
- ✅ Updated health check and environment docs for Firebase

## Key Files
- `lib/firebase-client.ts` / `lib/firebase-admin.ts` - Firebase initialization (client + admin)
- `lib/storage-firestore.ts` - Firestore storage implementation
- `lib/storage-unified.ts`, `lib/migration.ts`, `hooks/useStorage.ts` - unified storage + migration updates
- `components/SessionProvider.tsx`, `app/login/page.tsx`, `app/auth/callback/page.tsx` - Firebase auth flow
- `app/api/values/route.ts` - Firestore-powered values API (requires Firebase Admin env)
- `SETUP_GUIDE.md`, `DEPLOYMENT_GUIDE.md`, `.env.local.example` - Firebase setup instructions

## Env Vars (minimum)
```
OPENAI_API_KEY=...
NEXT_PUBLIC_FIREBASE_API_KEY=...
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=...
NEXT_PUBLIC_FIREBASE_PROJECT_ID=...
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=...
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=...
NEXT_PUBLIC_FIREBASE_APP_ID=...
FIREBASE_PROJECT_ID=...
FIREBASE_CLIENT_EMAIL=...
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
NEXT_PUBLIC_ADMIN_EMAIL=...
AUTH_SECRET=...
AUTH_URL=...
GOOGLE_CLIENT_ID=...
GOOGLE_CLIENT_SECRET=...
```

## Testing
- [ ] `npm install` (needs network) to pull `firebase-admin`
- [ ] `npm run lint`
- [ ] Email-link login flow (`/login` → email link → `/auth/callback`)
- [ ] Data migration banner after first login
- [ ] Admin dashboard shows Firestore data
- [ ] `/api/health` returns healthy with Firebase env set
