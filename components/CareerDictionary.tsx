"use client";

import {
  forwardRef,
  useImperativeHandle,
  useMemo,
  useState
} from "react";
import type { CareerProfile } from "@/types";

export interface CareerDictionaryHandle {
  canGoBack: () => boolean;
  goBack: () => void;
}

interface Props {
  onSelectCareer: (profile: CareerProfile) => void;
}

const INTERVIEW_QUESTIONS = [
  "Q1：どんな進路を選択して今なにしてる？",
  "Q2：その進路を選んだ理由・背景は？",
  "Q3：その進路選択ズバリ何点？それってなぜ？",
  "Q4：その進路を選んだことで得たものと失ったものは？",
  "Q5：あなたの生き方や進路に対する考え方が変わった経験は？",
  "Q6：自分らしい生き方の見つけ方のアドバイスは？"
];

type ProfileInput = Omit<CareerProfile, "interview"> & {
  interviewAnswers: string[];
};

const PROFILE_INPUTS: ProfileInput[] = [
  {
    id: "oyama-riku",
    name: "大山 陸",
    kana: "おおやま りく",
    avatar: "🌏",
    tags: ["#ノマドワーカー", "#起業"],
    headline: "旅しながらSaaSをつくるフルスタックエンジニア",
    summary:
      "フリーランスで受託開発と自社SaaSを並行。アジアとヨーロッパを移動しながら、時差を味方にプロジェクトをまわす。",
    keywords: ["リモートワーク", "受託開発", "SaaS", "海外生活"],
    introduction:
      "大学在学中に東南アジアで就業体験。英語とコードだけで働ける環境に刺激を受け、卒業前にエストニアで法人を設立した。",
    quote: "移動距離よりも、任された責任の大きさが成長を決める。",
    updatedAt: "2024-02-18",
    score: 88,
    timeline: [
      {
        label: "18歳",
        description: "地元のハッカソンで友人と英語版アプリを制作し最優秀賞を受賞。",
        reason: "海外のユーザーから直接フィードバックをもらう体験がしたかった。"
      },
      {
        label: "19歳",
        description: "大学に在籍しながら英語ブログで技術メモを発信。",
        reason: "海外案件を取るためには、まず自分の存在を検索で見つけてもらう必要があると考えた。"
      },
      {
        label: "20歳",
        description: "大学を休学し、ベトナムのスタートアップでエンジニアインターン。",
        reason: "現地のスピード感を体験しないと、グローバル案件の解像度が上がらないと感じた。"
      },
      {
        label: "21歳",
        description: "リモートでインドの開発チームと共同開発し、初めて海外クライアントを担当。",
        reason: "時差と文化の壁を乗り越えるには若いうちに挑戦した方が失敗を恐れずに済むと思った。"
      },
      {
        label: "23歳",
        description: "都内の開発会社へ就職。夜は個人アプリの受託で経験を積む。",
        reason: "まずは大規模案件の設計を学び、その知見を副業で試したかった。"
      },
      {
        label: "24歳",
        description: "フリーランスとして欧州クライアントのサポートを開始。",
        reason: "為替と税制を調べ、複数通貨で収入を持つことでリスク分散しようと考えた。"
      },
      {
        label: "26歳",
        description: "エストニアで法人を設立し、完全リモートで働き始める。",
        reason: "場所に縛られない働き方を実現したく、法制度が整う国を比較して決めた。"
      }
    ],
    interviewAnswers: [
      "リモートで受託開発と、自分たちで育てているSaaSを運営しながら世界を転々としています。",
      "災害ボランティアで出会った海外エンジニアが、ノートPC1台で働いていたのが衝撃で、その働き方を再現したかった。",
      "88点。孤独な瞬間はありますが、成果がダイレクトに自由時間につながるのが魅力です。",
      "得たのは機動力と英語での交渉術。失ったのは固定のチームに守られている安心感。",
      "スリランカの停電で作業不能になった時、現地仲間に生活知恵を教わってから助け合う価値観に振り切れました。",
      "収入源を2本以上持つと挑戦の許容度が上がります。安全網を作ってから大きく動くのがおすすめ。"
    ],
    lessons: ["生活コストを把握して挑戦枠をつくる", "信頼される速度でレスする"]
  },
  {
    id: "takahashi-sayuri",
    name: "高橋 小百合",
    kana: "たかはし さゆり",
    avatar: "💇‍♀️",
    tags: ["#美容師", "#専門学校", "#ダブルスクール"],
    headline: "美容室と夜間デザイン学校を両立するカラーリスト",
    summary:
      "表参道サロンでカラー指名上位をキープしながら、夜はデジタルデザインを学び美容系アプリの企画にも挑戦。",
    keywords: ["美容師", "カラーリスト", "夜間学校", "アプリ企画"],
    introduction:
      "高校時代にアルバイトで美容室を手伝い、接客とクリエイティブが混ざる仕事に惹かれた。専門学校卒業後も技術研修を継続している。",
    quote: "似合う色の言語化は、相手の気持ちを整える作業でもある。",
    updatedAt: "2024-02-16",
    score: 86,
    timeline: [
      {
        label: "16歳",
        description: "高校帰りに地元サロンでアシスタントを経験。",
        reason: "社会人になる前に接客の基礎と立ち仕事の体力を身につけたかった。"
      },
      {
        label: "18歳",
        description: "美容専門学校でカラーデザインを専攻。全国大会で入賞。",
        reason: "早いうちに武器を決めれば現場で任されるスピードが早いと考えた。"
      },
      {
        label: "19歳",
        description: "青山のサロンで長期インターンを開始。",
        reason: "一流店の段取りを体で覚えるには、授業と並行して現場に立つ必要があると感じた。"
      },
      {
        label: "21歳",
        description: "都内サロンに入社。休日はSNSで配色研究を配信。",
        reason: "発信を続ければお客様とオンラインでつながれると感じたから。"
      },
      {
        label: "22歳",
        description: "カラー講座の社内講師に抜擢され、後輩教育を担当。",
        reason: "教えることで理論と感覚を言語化できると考えた。"
      },
      {
        label: "23歳",
        description: "コスメブランドと組んでコラボ施術を企画。",
        reason: "美容の枠を越えて提案したいと考え、企業案件に挑戦した。"
      },
      {
        label: "24歳",
        description: "夜間のデザイン専門学校に通い、アプリUIを学ぶ。",
        reason: "カラー提案をアプリで可視化したく、自分でプロトタイプを作りたかった。"
      }
    ],
    interviewAnswers: [
      "昼は美容室でカラー施術、夜は専門学校でアプリUIの課題を作っています。",
      "お客さまの表情が変わる瞬間が好きで、手に職を早く付けたかった。",
      "86点。体力はギリギリですが、技術と企画の両方を磨ける今が楽しいです。",
      "得られたのはリピートしてくださるお客さまと、提案を形にする技術。寝る時間は削れがちです。",
      "新人時代に担当したお客様が転職で上京する時、「髪色で勇気をもらった」と言ってくれた瞬間に、仕事観が変わりました。",
      "同じ分野の仲間と、全く違う業界の仲間を両方つくると視野が広がります。"
    ],
    lessons: ["武器を早めに言語化する", "体力づくりも技術の一部"]
  },
  {
    id: "sato-kanta",
    name: "佐藤 幹太",
    kana: "さとう かんた",
    avatar: "🏦",
    tags: ["#銀行", "#法人営業", "#会社員"],
    headline: "地域企業を支えるメガバンクの法人RM",
    summary:
      "メガバンクで中堅製造業の資金繰りと事業承継を担当。決算書だけでなく現場の声をヒアリングし、事業再構築の伴走役を担う。",
    keywords: ["銀行", "法人営業", "金融", "事業再生"],
    introduction:
      "実家が町工場を営んでおり、資金繰りに悩む父を見て金融の専門性を身につけたいと銀行を志望した。",
    quote: "数字の裏にある現場の温度を確かめるほど、金融の提案は変わる。",
    updatedAt: "2024-02-15",
    score: 85,
    timeline: [
      {
        label: "18歳",
        description: "地元の商工会で父の工場の決算資料作りを手伝う。",
        reason: "家業の資金繰りを肌で感じ、金融の言葉を早く覚える必要があると思った。"
      },
      {
        label: "20歳",
        description: "大学でファイナンスゼミに所属し、事業再生ケースを研究。",
        reason: "机上の理論だけでなく、再生のプロセスを体系的に理解したかった。"
      },
      {
        label: "22歳",
        description: "メガバンクに入行し、法人営業部で研修を受ける。",
        reason: "最初から経営者と向き合う部署で鍛えられたかった。"
      },
      {
        label: "24歳",
        description: "地方の製造業10社を担当。毎週工場見学を続ける。",
        reason: "決算書に表れない強みを把握して提案の説得力を高めたかった。"
      },
      {
        label: "25歳",
        description: "同業他社と連携したサプライチェーン融資を提案。",
        reason: "単独融資では限界があり、業界全体を見たスキームが必要だと感じた。"
      },
      {
        label: "26歳",
        description: "事業承継ファンドと組んだスキームで初めて大型案件を完遂。",
        reason: "地域企業の後継者不足を資金面だけでなく仕組みで支えたかった。"
      },
      {
        label: "27歳",
        description: "再生専門チームに異動し、中小企業の経営改善計画をリード。",
        reason: "数字と現場を往復しながら、より深く経営に入り込みたいと手を挙げた。"
      }
    ],
    interviewAnswers: [
      "中堅製造業の資金調達と再生計画づくりを担当し、現場と本部の橋渡しをしています。",
      "父の工場が資金繰りで苦しむ姿を見て、金融の言葉を味方にしたいと思ったからです。",
      "85点。プレッシャーは大きいですが、伴走した工場が新製品を出す瞬間に立ち会えるのは最高です。",
      "得たのは経営者と本音で話す胆力。失ったのは定時に帰れる生活リズム。",
      "赤字続きの工場が、社員総出で新ラインを掃除していた光景に胸を打たれ、数字だけでは測れない価値を守りたいと確信しました。",
      "決算書を読む前に、現場の空気を五感でメモすると提案の精度が上がります。"
    ],
    lessons: ["数字と現場を両方見る", "判断材料を自分の足で集める"]
  },
  {
    id: "miura-natsuki",
    name: "三浦 夏希",
    kana: "みうら なつき",
    avatar: "🎙️",
    tags: ["#通信制学校", "#ダブルスクール", "#声優"],
    headline: "通信制高校と声優養成所を両立した新人声優",
    summary:
      "昼は通信制高校、夜は声優養成所で発声練習。卒業後は専門学校に進み、現在はアニメのアフレコ現場で活動。",
    keywords: ["声優", "通信制", "ダブルスクール", "表現"],
    introduction:
      "人前が苦手だったが、演劇部で舞台に立った瞬間に表現の楽しさへ目覚めた。",
    quote: "マイク前に立つ前に、自分の生活を整えるのも仕事のうち。",
    updatedAt: "2024-02-14",
    score: 85,
    timeline: [
      {
        label: "13歳",
        description: "演劇部で初舞台。マイクを怖がり録音を繰り返す。",
        reason: "自分の声を客観的に聞くことで克服できると信じた。"
      },
      {
        label: "15歳",
        description: "通信制高校へ進学し、演技の基礎と自己管理を学ぶ。",
        reason: "時間を自由に使い、レッスンに集中できる環境を選びたかった。"
      },
      {
        label: "16歳",
        description: "地元FMで朗読ボランティアを開始。",
        reason: "実践の場が欲しく、放送局に自分で企画書を持ち込んだ。"
      },
      {
        label: "18歳",
        description: "声優養成所に入所。日曜は朗読イベントに出演。",
        reason: "実践の場が多いほど課題が明確になると感じたため。"
      },
      {
        label: "19歳",
        description: "演技メモをnoteで連載し、表現の引き出しを可視化。",
        reason: "感情の動きを言葉にしないと本番に再現できないと気づいた。"
      },
      {
        label: "21歳",
        description: "専門学校卒業と同時にオーディションで新人枠に採用。",
        reason: "卒業制作でチームを組んだ仲間と映像作品を作り、強みの掛け算を実感した。"
      },
      {
        label: "22歳",
        description: "初の主演ラジオ番組を担当し、即興力を磨く。",
        reason: "決まった台本以外でもファンと対話できる力をつけたかった。"
      }
    ],
    interviewAnswers: [
      "週の半分はアフレコ、残りはナレーションやイベント出演で経験を積んでいます。",
      "自分の声で誰かの感情に届く瞬間が嬉しく、時間を確保できる通信制を選んだ。",
      "85点。結果はまだ途中ですが、挑戦の量に対して舞台が広がった。",
      "得たのは自己管理力と仲間。失ったのは“普通”の高校生活ですが後悔はありません。",
      "オーディションで落ち続けた時、養成所の先生に「生活を整えると声も整う」と言われ、大きく意識を変えた。",
      "練習日誌に“感情のメモ”を書くと、本番で引き出せる感覚が増えます。"
    ],
    lessons: ["時間割を自分で設計する", "感情のメモを残す"]
  },
  {
    id: "ota-kentaro",
    name: "太田 健太郎",
    kana: "おおた けんたろう",
    avatar: "📷",
    tags: ["#ワーホリ", "#起業", "#フォトグラファー"],
    headline: "ワーホリ帰りに旅するフォトスタジオを立ち上げた写真家",
    summary:
      "オーストラリアで撮影とカフェ勤務を経験。帰国後は地方を巡る移動型スタジオを開業し、自治体と観光PRを行う。",
    keywords: ["写真", "観光", "ワーホリ", "地方創生"],
    introduction:
      "高校卒業後は地元工場に就職したが、趣味の写真を本業にするべくワーホリで腕を磨いた。",
    quote: "土地の光を理解できた瞬間、その町の人間関係も見えてくる。",
    updatedAt: "2024-02-13",
    score: 80,
    timeline: [
      {
        label: "17歳",
        description: "中古の一眼レフで商店街の紹介冊子を制作。",
        reason: "家の近所でも撮り方次第で景色が変わることを証明したかった。"
      },
      {
        label: "19歳",
        description: "製造業に就職しながら週末はブライダル撮影を手伝う。",
        reason: "まずは安定収入を確保しつつ、写真の現場数をこなしたかった。"
      },
      {
        label: "20歳",
        description: "自治体の祭りをドキュメンタリー風に撮影しSNSで発信。",
        reason: "自分の写真が人を動かすか試したくて、許可をもらって密着した。"
      },
      {
        label: "22歳",
        description: "ワーホリでオーストラリアへ。サーフショップのSNS運用を担当。",
        reason: "英語と写真を同時に鍛え、海外でも通用する撮り方を学びたかった。"
      },
      {
        label: "23歳",
        description: "バンライフで各地を取材し、オンライン写真展を開催。",
        reason: "移動を作品化すれば、次の仕事につながると考えた。"
      },
      {
        label: "24歳",
        description: "帰国後に移動型フォトスタジオを開業。自治体PRを受託。",
        reason: "旅で得たフットワークを生かし、固定費を抑えながら各地の魅力を撮影したかった。"
      },
      {
        label: "26歳",
        description: "観光庁の地域プロモーション事業に採択される。",
        reason: "単発ではなく継続的に地域を支援する仕組みを作りたかった。"
      }
    ],
    interviewAnswers: [
      "キャンピングカーで地方を回り、家族写真と観光素材の両方を撮っています。",
      "旅先で出会ったローカルビジネスの人たちが、自分の写真で集客が変わったと言ってくれたのが嬉しくて。",
      "80点。天候に左右されますが、前より“人の暮らし”を撮れている実感があります。",
      "得たのは土地のネットワーク。失ったのは週末のまとまった休み。",
      "砂漠でバスが故障した時、現地の家族が助けてくれた。困った時ほど写真を通じて距離が縮まると学びました。",
      "好きな道具だけでなく、替えの働き方を用意しておくと判断がぶれません。"
    ],
    lessons: ["副業期に現場経験を稼ぐ", "機材よりもフットワークを鍛える"]
  },
  {
    id: "miura-kosuke",
    name: "三浦 航佑",
    kana: "みうら こうすけ",
    avatar: "🛠️",
    tags: ["#進学しない／やめる選択", "#専門学校", "#エンジニア"],
    headline: "一度退学した後に専門学校でAIエンジニアへ転身",
    summary:
      "大学を中退し、夜間の情報専門学校で学び直し。製造業のデータ分析部署に入り、工場の予知保全を担当。",
    keywords: ["AI", "データ分析", "リスキリング", "製造業"],
    introduction:
      "大学では方向性が定まらず休学。工場派遣で働く中で、現場課題を数字で解きたいと感じITへシフト。",
    quote: "遠回りもデータとして残せば強みになる。",
    updatedAt: "2024-02-12",
    score: 79,
    timeline: [
      {
        label: "18歳",
        description: "大学で機械工学を専攻するも、目標が定まらず休学。",
        reason: "進路迷子になったときは一度立ち止まり、生活コストを把握する必要があると考えた。"
      },
      {
        label: "20歳",
        description: "大学を中退し、工場のライン作業に従事。",
        reason: "まずは生活費を稼ぎながら、自分が解きたい課題を見極めたかった。"
      },
      {
        label: "21歳",
        description: "夜勤帰りにオンラインでPythonを学習し始める。",
        reason: "現場の違和感を数字で説明できれば説得力が出ると気づいた。"
      },
      {
        label: "22歳",
        description: "夜間の情報専門学校でPythonと統計を学ぶ。",
        reason: "現場の異常検知を数字で説明できるようになりたかったため。"
      },
      {
        label: "23歳",
        description: "製造業のデータ分析インターンで初めてAIモデルを構築。",
        reason: "学んだ理論を現場データで検証し、改善提案へつなげたかった。"
      },
      {
        label: "24歳",
        description: "メーカーのデータ解析チームに入社し、AI予知保全を構築。",
        reason: "自分が働いていた工場の課題を、今度は仕組みで解決したかった。"
      },
      {
        label: "25歳",
        description: "工場横断のデータ基盤をリードし、現場教育にも携わる。",
        reason: "分析が属人化すると再現性がないため、仕組みと教育を同時に進めたかった。"
      }
    ],
    interviewAnswers: [
      "製造ラインのセンサー情報を分析し、故障を早めに検知する仕組みを作っています。",
      "ライン作業中の“なんとなく”の感覚を数値化したくて、データ領域を選びました。",
      "79点。迷っていた時間があったからこそ、現場の声に耳を傾けられます。",
      "得たのは課題の言語化力。失ったのは同期と同じペースで進む安心感。",
      "夜間学校で年上のクラスメイトが多く、年齢に関係なく挑戦している姿に背中を押されました。",
      "迷った経験も含めてノートに記録する。後から強みに書き換えられます。"
    ],
    lessons: ["経験をログ化して言語化する", "現場の違和感を数字に翻訳する"]
  },
  {
    id: "sato-kana",
    name: "佐藤 香奈",
    kana: "さとう かな",
    avatar: "🎬",
    tags: ["#通信制学校", "#起業", "#クリエイター"],
    headline: "通信制高校から動画制作会社を立ち上げたクリエイター",
    summary:
      "不登校経験を経て通信制高校へ。卒業後は動画編集を独学し、SNS運用と広告動画を請け負うチームを設立。",
    keywords: ["動画制作", "SNS", "クリエイター", "起業"],
    introduction:
      "自宅で過ごす時間に動画編集を覚え、地域の商店街PRを手伝ったことがきっかけで仕事に。",
    quote: "“好き”を丁寧に説明できると、仕事の依頼も増える。",
    updatedAt: "2024-02-11",
    score: 82,
    timeline: [
      {
        label: "16歳",
        description: "不登校期間に動画編集ソフトを独学し、日常Vlogを投稿。",
        reason: "自宅にいても発信できる手段を見つけて自信を取り戻したかった。"
      },
      {
        label: "17歳",
        description: "通信制高校で映像制作の課題に打ち込み、文化祭で上映。",
        reason: "登校日が少ない分、作品に集中すれば自信を取り戻せると思った。"
      },
      {
        label: "18歳",
        description: "地域商店街のPR動画を無償で制作しSNSで公開。",
        reason: "まずは実績を作り、声をかけてもらえる入口をつくりたかった。"
      },
      {
        label: "19歳",
        description: "クラウドソーシングでSNS動画を受注。編集チームを結成。",
        reason: "同年代の仲間と協力すれば、納期対応力が上がると考えた。"
      },
      {
        label: "20歳",
        description: "オンライン講座でシナリオを学び、ドラマ仕立ての広告を制作。",
        reason: "編集だけでなく企画から提案できるようになりたかった。"
      },
      {
        label: "22歳",
        description: "法人化し、行政と観光PRムービーを制作。",
        reason: "契約規模が大きくなり、信頼を示すため法人格が必要になった。"
      },
      {
        label: "23歳",
        description: "スタジオを持たずシェアオフィスと提携し、地方案件を増やす。",
        reason: "拠点を柔軟に変えれば、好きな地域の仕事を継続できると考えた。"
      }
    ],
    interviewAnswers: [
      "地域企業のSNSアカウントを運用しながら、ショートドラマ企画も制作しています。",
      "自分のペースで学び直す場所が必要で、通信制なら映像編集の時間も確保できた。",
      "82点。仲間と働ける環境を自分で作れたのは大きな成果。",
      "得たのは発信を通じたコミュニティ。失ったのは休日の概念です。",
      "商店街の動画がバズり、閉店予定だった店が続いた時に、仕事の意味を実感しました。",
      "“何に心が動くか”をノートに書き出すと、企画の種が見えてきます。"
    ],
    lessons: ["小さな依頼でも丁寧に成果を残す", "チーム化で納期を守る"]
  },
  {
    id: "nakajima-miho",
    name: "中島 美穂",
    kana: "なかじま みほ",
    avatar: "🧬",
    tags: ["#通信制学校", "#海外大学", "#データサイエンス"],
    headline: "通信制高校から海外大に進学し医療データを扱う分析官",
    summary:
      "通信制高校で英語を学び直し、カナダの大学でヘルスデータを専攻。現在は医療スタートアップで臨床データを分析。",
    keywords: ["医療データ", "海外大学", "統計", "リモートワーク"],
    introduction:
      "持病の通院経験から、医療情報を誰にでもわかりやすくすることに興味を持った。",
    quote: "数字の裏にある生活を想像できると、モデルの精度も上がる。",
    updatedAt: "2024-02-10",
    score: 87,
    timeline: [
      {
        label: "15歳",
        description: "持病で通う病院でデータ入力ボランティアを経験し、通信制高校で英語学習を日課化。",
        reason: "患者側の不便さを覚えつつ、海外進学の基礎を早めに整えたかった。"
      },
      {
        label: "18歳",
        description: "医療データ可視化の国際コンテストで佳作を受賞。",
        reason: "自分の経験を数字で説明する力を試したかった。"
      },
      {
        label: "20歳",
        description: "カナダ大学でヘルスデータ科学を専攻し、研究室でRA。",
        reason: "医療現場の課題を統計モデルで示せる力を付けたかった。"
      },
      {
        label: "21歳",
        description: "病院の電子カルテ改善プロジェクトに参画。",
        reason: "現場の看護師と議論しながら要件を翻訳する力を鍛えたかった。"
      },
      {
        label: "23歳",
        description: "大学院でヘルスインフォマティクスを研究し、論文を投稿。",
        reason: "学術的な裏付けを持って社会実装したかった。"
      },
      {
        label: "24歳",
        description: "医療スタートアップでデータアナリストとしてリモート勤務。",
        reason: "日本の臨床データを海外視点で分析できるポジションに惹かれた。"
      },
      {
        label: "25歳",
        description: "患者向けレポートを共著し、専門用語の翻訳ガイドを制作。",
        reason: "データを生活者に届けるアウトプットを増やしたかったため。"
      }
    ],
    interviewAnswers: [
      "病院と保険会社をつなぐデータパイプラインを設計し、治療方針のエビデンスを作っています。",
      "患者として感じた“情報のつながりにくさ”を改善したかった。",
      "87点。専門性を深めながらリモートで働けるのが理想に近いです。",
      "得たのは根拠を示す力。失ったのは気軽に移動できる身軽さ。",
      "研究室でモデルの失敗が続いた時、担当医から“患者さんの1日を想像して”と言われ視点が変わった。",
      "難しい言葉を自分なりの例えに置き換える癖をつけると、専門性が伝わります。"
    ],
    lessons: ["生活者視点をデータに添える", "日英どちらでも説明文を用意する"]
  },
  {
    id: "fujisawa-kana",
    name: "藤沢 香菜",
    kana: "ふじさわ かな",
    avatar: "🧓",
    tags: ["#通信制大学", "#介護", "#会社員"],
    headline: "介護と学びを両立する通信制大学生兼ケアワーカー",
    summary:
      "祖母の介護を機に福祉業界へ。日中はデイサービス勤務、夜は通信制大学で社会福祉士を目指す。",
    keywords: ["介護", "通信制大学", "社会福祉士", "地域支援"],
    introduction:
      "親族の介護で制度の複雑さを痛感し、仕組みから学びたいと通信制大学に編入。",
    quote: "支援の書類1枚で、家族の心配事が半分になる。",
    updatedAt: "2024-02-09",
    score: 78,
    timeline: [
      {
        label: "20歳",
        description: "祖母の介護を手伝う中で介護職への転職を決意。",
        reason: "家族だけで抱え込む限界を感じ、制度面の支援を学ぶ必要があると悟った。"
      },
      {
        label: "21歳",
        description: "デイサービスへ就職し、送迎と入浴介助を担当。",
        reason: "まずは現場で基礎を学び、家族の困りごとを直接聞きたかった。"
      },
      {
        label: "22歳",
        description: "夜間に介護福祉士試験の勉強を開始。",
        reason: "信頼してもらうには資格取得が欠かせないと考えた。"
      },
      {
        label: "24歳",
        description: "通信制大学の福祉学部に編入し、資格取得を目指す。",
        reason: "制度を理解しないと提案の幅が出ないと感じた。"
      },
      {
        label: "25歳",
        description: "ケアマネージャーの事務サポートを兼務し始める。",
        reason: "利用者の生活設計を俯瞰する視点を身につけたかったから。"
      },
      {
        label: "26歳",
        description: "地域ケア会議の事務局を担当し、生活プランを設計。",
        reason: "現場視点を生かし、行政との橋渡し役になりたかった。"
      },
      {
        label: "27歳",
        description: "訪問介護と大学の実習を両立し、社会福祉士受験を決意。",
        reason: "制度と現場をつなぐ専門家として次のステップに進もうと思った。"
      }
    ],
    interviewAnswers: [
      "午前は送迎とリハビリ補助、午後は講義動画を視聴しレポートを書いています。",
      "家族の介護で制度の壁にぶつかり、仕組みを知りたいと思った。",
      "78点。時間管理は大変ですが、利用者さんの安心した顔が励みです。",
      "得たのは制度を翻訳する力。失ったのは突発的な旅行の機会。",
      "大学のスクーリングで同じように働きながら学ぶ仲間に出会い、負担を共有できた瞬間に視野が広がった。",
      "誰にどんな情報を届けたいかを決めてから学ぶと、記憶に残ります。"
    ],
    lessons: ["制度を生活言葉に翻訳する", "小さな変化でも記録を残す"]
  },
  {
    id: "takase-shusei",
    name: "高瀬 修成",
    kana: "たかせ しゅうせい",
    avatar: "🏛️",
    tags: ["#公務員", "#地域政策", "#会社員"],
    headline: "市役所で地域ビジョンを描く若手政策担当",
    summary:
      "県立高校卒業後に市役所へ入庁。空き家対策やローカルベンチャー支援を担当し、住民と行政の間を走り回る。",
    keywords: ["公務員", "地域政策", "官民連携", "まちづくり"],
    introduction:
      "家業の青果店で顧客減を体感し、行政の手続きが市民に届いていないと感じたのが志望のきっかけ。",
    quote: "会議室で決まる予算も、最後は現場の“熱”がないと動かない。",
    updatedAt: "2024-02-08",
    score: 82,
    timeline: [
      {
        label: "18歳",
        description: "高校卒業後すぐに市役所へ入庁。窓口で住民票業務を担当。",
        reason: "住民と行政の距離感を肌で知るには窓口を経験するのが一番だと考えた。"
      },
      {
        label: "19歳",
        description: "商店街の空き店舗調査を任される。",
        reason: "数字では見えない“使われていない理由”を聞き取りたかった。"
      },
      {
        label: "21歳",
        description: "地域おこし協力隊担当となり、移住者支援制度を設計。",
        reason: "現場の声を制度に反映させる仕事を経験したかった。"
      },
      {
        label: "22歳",
        description: "空き家データベースを構築し、民間不動産と連携開始。",
        reason: "行政だけでは限界があり、情報の透明性で信頼を築きたかった。"
      },
      {
        label: "23歳",
        description: "週末マルシェの実証実験を企画し、商店街の若手を巻き込む。",
        reason: "施策の効果を測るには小さく試し、データを残す必要があると気づいた。"
      },
      {
        label: "25歳",
        description: "都市計画課へ異動し、公共空間の利活用プロジェクトを担当。",
        reason: "土地利用の視点を学び、より長期のまちづくりに関わりたかった。"
      },
      {
        label: "26歳",
        description: "官民連携チームを立ち上げ、スタートアップ誘致を推進。",
        reason: "制度説明だけでなく、挑戦者の伴走役になりたいと志願した。"
      }
    ],
    interviewAnswers: [
      "平日は市役所で地域ビジョンの資料作り、夜は住民説明会でフィードバックを聞いています。",
      "家業の店が制度を活用しきれていなかった経験から、行政の翻訳役になりたかった。",
      "82点。調整の連続ですが、住民と一緒に地図へ書き込む瞬間が好きです。",
      "得たのは多様な世代の声を受け止める力。失ったのは“定時で終わる”感覚です。",
      "豪雨災害時に、以前マルシェで出会った高校生が自主的にボランティアに来てくれた。関係性が防災にもつながると実感しました。",
      "施策の“対象者の顔”を思い浮かべながら資料を書くと、説得力が出ます。"
    ],
    lessons: ["小さな実証で仮説を確かめる", "行政の言葉を生活者に翻訳する"]
  },
  {
    id: "miyazaki-haruka",
    name: "宮崎 遥",
    kana: "みやざき はるか",
    avatar: "🤝",
    tags: ["#起業", "#福祉", "#家業継承"],
    headline: "家業の介護施設を継ぎながら福祉テック企業を共同創業",
    summary:
      "実家の介護施設を手伝いながら、福祉機器ベンチャーを立ち上げ。現場の声をプロダクト改善に反映している。",
    keywords: ["介護", "スタートアップ", "事業承継", "IoT"],
    introduction:
      "祖母が始めた小規模多機能施設を手伝う中で、現場のアナログ業務に課題を感じIoT化へ踏み出した。",
    quote: "介護の現場を歩きながら作ったプロトタイプしか残らない。",
    updatedAt: "2024-02-07",
    score: 84,
    timeline: [
      {
        label: "18歳",
        description: "高校卒業後すぐ家業の施設で夜勤を経験。",
        reason: "現場の空気を知らずに改革はできないと考えた。"
      },
      {
        label: "19歳",
        description: "短大で福祉を学びつつ家業を手伝う生活をスタート。",
        reason: "現場経験と制度の理解を同時に得たかった。"
      },
      {
        label: "21歳",
        description: "タブレットで記録をつける仕組みを導入し業務時間を短縮。",
        reason: "介護記録の二重入力が課題で、自作のテンプレートで改善できると思った。"
      },
      {
        label: "23歳",
        description: "IoTセンサーのベンチャーに転職し、プロダクト企画を担当。",
        reason: "外の技術知見を持ち帰らないと施設改革が進まないと感じたため。"
      },
      {
        label: "25歳",
        description: "自治体の実証実験に採択され、センサー導入を拡大。",
        reason: "公的支援を活用して費用面の不安を取り除きたかった。"
      },
      {
        label: "26歳",
        description: "施設スタッフと共同で見守りデバイスを開発し起業。",
        reason: "自分たちの悩みをそのまま機能に落とせば、同じ課題を持つ施設にも役立つと確信した。"
      },
      {
        label: "27歳",
        description: "他県の施設とも連携し、データ利活用のガイドラインを策定。",
        reason: "現場の信頼を守るため、データの扱い方を明文化する必要があると感じた。"
      }
    ],
    interviewAnswers: [
      "午前は施設で利用者さんのケア、午後はベンチャーの開発会議という二足のわらじです。",
      "家族の施設を守るには、外の視点を入れた仕組みが必要だと感じた。",
      "84点。忙しいですが、現場の声を直接ものづくりに生かせています。",
      "得たのは家族以外にも頼れる仲間。失ったのは“どちらか一方”に集中できる時間。",
      "利用者さんが新デバイスのおかげで夜間も安心して眠れたと言ってくれた瞬間、事業に確信を持てた。",
      "悩みを小さく切り分けてプロトタイプを作ると、現場の反応が早く返ってきます。"
    ],
    lessons: ["現場に戻って仮説を確認する", "協力者の専門性を尊重する"]
  },
  {
    id: "kawamura-takuto",
    name: "川村 拓斗",
    kana: "かわむら たくと",
    avatar: "📚",
    tags: ["#教師", "#公立中学校", "#キャリア教育"],
    headline: "公立中の社会科教師として地域探究を仕掛ける",
    summary:
      "地元の公立中学校で社会科を担当しながら、地域企業と連携した探究授業を実施。教室とまちをつなぐカリキュラムを設計している。",
    keywords: ["教員", "公務員", "キャリア教育", "地域探究"],
    introduction:
      "高校時代に後輩へ勉強を教える楽しさに気づき、大学で教育学と地方創生を学んだ。",
    quote: "生徒の『なぜ？』が尽きない授業ほど、自分も学び直せる。",
    updatedAt: "2024-02-06",
    score: 83,
    timeline: [
      {
        label: "17歳",
        description: "部活後に同級生へ歴史を教える勉強会を開始。",
        reason: "誰かに説明すると理解が深まると知り、教える楽しさを知った。"
      },
      {
        label: "18歳",
        description: "教育学部へ進学し、地方創生ゼミに所属。",
        reason: "授業づくりと地域課題を結びつける視点が必要だと考えた。"
      },
      {
        label: "20歳",
        description: "農村のフィールドワークで中学生の学習支援を実施。",
        reason: "教室外で学ぶ意味を体験的に理解してほしかった。"
      },
      {
        label: "22歳",
        description: "教員採用試験に合格し、実習校で地域新聞づくりを指導。",
        reason: "情報整理の力を授業に落とし込むアイデアを試したかった。"
      },
      {
        label: "23歳",
        description: "赴任1年目で地域探究のモデル授業を任される。",
        reason: "若手でも挑戦できると示したく、自ら提案書を書いた。"
      },
      {
        label: "24歳",
        description: "地元企業と連携した職業人インタビューを実施。",
        reason: "進路を身近に感じてもらうには大人のリアルな声が必要だと思った。"
      },
      {
        label: "25歳",
        description: "授業で得た学びを市の教育委員会に提出し、探究カリキュラムをアップデート。",
        reason: "学校単位で閉じず、制度に働きかけて仕組みにしたかった。"
      }
    ],
    interviewAnswers: [
      "午前は授業と部活指導、放課後は地域の方との打ち合わせでフィールド学習を設計しています。",
      "高校時代に後輩へ勉強を教えた時、生徒の“わかった”瞬間が忘れられず教員を志望しました。",
      "83点。教材準備は多いですが、まちの人と一緒に授業を作る時間が宝物です。",
      "得たのは生徒と地域を結ぶコミュニティ。失ったのは完全な休日の概念です。",
      "初めての地域探究で失敗した際、生徒が自主的に地域新聞を作りたいと言ってくれた。関係性があればやり直せると実感しました。",
      "授業の目的を“生徒の名前”で書き出すと、準備の優先度が整理できます。"
    ],
    lessons: ["地域に出て教材を探す", "目的を生徒の顔で言語化する"]
  },
  {
    id: "shimizu-haruka",
    name: "清水 春花",
    kana: "しみず はるか",
    avatar: "🎥",
    tags: ["#進学しない／やめる選択", "#ダブルスクール", "#起業"],
    headline: "工場勤務から夜間映像学校に通い動画クリエイターへ",
    summary:
      "高校卒業後に製造業へ就職。夜間映像学校で学び、現在はものづくり企業のPR動画を専門に制作。",
    keywords: ["映像", "製造業", "ダブルスクール", "PR"],
    introduction:
      "仕事で見ていた機械の動きを美しく撮りたいと考え、動画制作を学び始めた。",
    quote: "手を動かして覚えた段取りが、撮影でも活きる。",
    updatedAt: "2024-02-05",
    score: 77,
    timeline: [
      {
        label: "17歳",
        description: "工業高校で撮影したロボット競技の映像が表彰される。",
        reason: "ものづくりの迫力を映像で残す面白さに目覚めた。"
      },
      {
        label: "18歳",
        description: "地元工場に就職し、ラインリーダーとして段取りを担当。",
        reason: "家の収入を支えるため、まず働きながら技術を覚える選択をした。"
      },
      {
        label: "19歳",
        description: "仕事終わりに機械の動きを撮影して社内共有を始める。",
        reason: "映像で段取りを共有すれば新人教育が楽になると感じた。"
      },
      {
        label: "21歳",
        description: "夜間で映像編集スクールに通い始め、休日は撮影を練習。",
        reason: "製造現場の魅力を映像で伝える人が少なく、自分が橋渡しになれると考えた。"
      },
      {
        label: "22歳",
        description: "初めて受注した工場PR動画が地元ニュースで紹介される。",
        reason: "現場仲間の笑顔を世に出したいと、少数のスタッフで撮影した。"
      },
      {
        label: "24歳",
        description: "独立して製造業向けの映像制作会社を設立。",
        reason: "現場知識を生かせるジャンルが明確になり、企業から指名が増えたため。"
      },
      {
        label: "25歳",
        description: "リモート編集チームを構築し、海外工場からの依頼にも対応。",
        reason: "自分一人の体力に頼らない仕組みを作る必要があると感じた。"
      }
    ],
    interviewAnswers: [
      "平日は工場で撮影、夜に編集。土日はディレクション提案をしています。",
      "現場のすごさが外に伝わらないもどかしさを、映像なら解決できると感じた。",
      "77点。肉体的にはハードですが、職人さんの笑顔が撮れた瞬間が最高です。",
      "得たのは現場の理解者という立場。失ったのはゆっくり眠れる夜。",
      "最初の案件で失敗した時、工場長が「俺たちの強みは段取り」と笑ってくれて救われた。",
      "本業で鍛えたスキルを副業でも使うと、他と差がつきます。"
    ],
    lessons: ["段取りメモを映像にも応用する", "小さな案件から信頼を積み上げる"]
  },
  {
    id: "takeda-haruki",
    name: "武田 陽樹",
    kana: "たけだ はるき",
    avatar: "🌾",
    tags: ["#進学しない／やめる選択", "#家業継承", "#農業"],
    headline: "農業高校卒で家業を継いだ二代目米農家",
    summary:
      "高校卒業後すぐ家業へ。スマート農業機器を導入し、産直ECでブランド米を販売。",
    keywords: ["農業", "家業", "EC", "スマート農業"],
    introduction:
      "祖父母の田んぼを守りたくて進学せず就農。県の補助金を活用しドローン散布など新技術を導入している。",
    quote: "朝5時の田んぼが決断をいちばん冷静にしてくれる。",
    updatedAt: "2024-02-04",
    score: 80,
    timeline: [
      {
        label: "17歳",
        description: "農業高校でドローン散布の実習に没頭。",
        reason: "機械好きな自分ならスマート農業で家業に貢献できると感じた。"
      },
      {
        label: "18歳",
        description: "農業高校卒業後すぐ家業に入る。",
        reason: "設備投資のタイミングだったため、家族と一緒に計画を立てる必要があった。"
      },
      {
        label: "21歳",
        description: "JA講座で得た知識を生かし、スマート農機の補助金に挑戦。",
        reason: "若い従業員でも作業しやすい畑に変えつつ、記録をデジタル化したかった。"
      },
      {
        label: "22歳",
        description: "土壌センサーを導入し、施肥量を記録する仕組みを構築。",
        reason: "“勘”を数値で説明できれば、父世代とも共通言語ができると考えた。"
      },
      {
        label: "23歳",
        description: "農産物のブランド化に向けて、東京のマルシェへ出店。",
        reason: "食べてくれる人の顔を見て味のフィードバックをもらいたかった。"
      },
      {
        label: "24歳",
        description: "産直ECを開設し、定期便モデルを構築。",
        reason: "価格を主体的に決める力をつけ、投資に回せる原資を確保したかった。"
      },
      {
        label: "26歳",
        description: "農園の体験ツアーを企画し、顧客参加型の栽培を開始。",
        reason: "ファン化すれば天候不良時も支えてもらえると考えた。"
      }
    ],
    interviewAnswers: [
      "田植えや収穫期は全力で畑に出て、合間にECサイトで顧客対応をしています。",
      "祖父母の技を自分が継ぐ責任を感じたから。",
      "80点。天候リスクはありますが、注文メールが届くたびに励まされます。",
      "得たのは土地と向き合う覚悟。失ったのは都会で働く選択肢。",
      "大雨で収穫量が減った年、顧客が“次の収穫を待ちます”と連絡をくれて泣きそうになった。",
      "季節ごとの気持ちを発信すると、ファンが支えてくれます。"
    ],
    lessons: ["データと勘をセットで残す", "お客さまとの対話を欠かさない"]
  },
  {
    id: "miyashita-aoi",
    name: "宮下 葵",
    kana: "みやした あおい",
    avatar: "✈️",
    tags: ["#海外大学", "#物流", "#会社員"],
    headline: "TOEIC400点台からカナダ大卒後に物流コンサルへ",
    summary:
      "英語に苦手意識があったが通信制で基礎を固め留学。現在は航空貨物の最適化プロジェクトを担当。",
    keywords: ["物流", "英語", "留学", "サプライチェーン"],
    introduction:
      "高校でのカナダ研修で空港オペレーションに興味を持ち、語学を鍛えて再挑戦した。",
    quote: "不得意だった英語が、いまは一番の武器になった。",
    updatedAt: "2024-02-03",
    score: 83,
    timeline: [
      {
        label: "17歳",
        description: "通信制高校で英語シャドーイングを習慣化し、空港研修で貨物エリアを見学。",
        reason: "苦手分野を日課にしつつ、物流の裏側を知って進路の解像度を上げたかった。"
      },
      {
        label: "19歳",
        description: "海外短期留学で航空物流の講義を受講。",
        reason: "英語で専門用語を学び、現場で即戦力になる準備をしたかった。"
      },
      {
        label: "21歳",
        description: "カナダの大学でサプライチェーンを専攻し、研究チームに所属。",
        reason: "空港の現場を理論でも理解したかった。"
      },
      {
        label: "22歳",
        description: "航空会社のインターンで貨物便のオペレーション改善に挑戦。",
        reason: "机上の学びを即現場で試し、改善提案の筋力を付けたかった。"
      },
      {
        label: "24歳",
        description: "航空会社の物流部門に就職し、貨物効率化を担当。",
        reason: "旅客だけでなく貨物も持続可能にしたいと考えた。"
      },
      {
        label: "25歳",
        description: "データ分析チームと連携し、燃料削減プロジェクトをリード。",
        reason: "数字で成果を示せれば現場の協力を得やすいと判断した。"
      },
      {
        label: "26歳",
        description: "海外路線の貨物新規開拓チームに抜擢され、交渉を担当。",
        reason: "国内で得た知見を国際物流に応用したかった。"
      }
    ],
    interviewAnswers: [
      "空港と倉庫をつなぐ輸送データを分析し、遅延を減らす仕組みを作っています。",
      "高校で空港見学をした時、裏側の仕事の多さに驚いて挑戦したくなった。",
      "83点。好きだった空が、いまは仕事で支えられている実感があります。",
      "得たのは語学への自信。失ったのは“苦手だからやらない”という言い訳。",
      "留学先で教授に徹底的に鍛えられた時、毎日の積み上げが視点を変えると理解しました。",
      "逃げたくなる部分ほど時間割に組み込む。続ける工夫を先にデザインすると楽です。"
    ],
    lessons: ["苦手を日課に落とし込む", "現場と理論を往復する"]
  },
  {
    id: "takahashi-ayumi",
    name: "高橋 歩美",
    kana: "たかはし あゆみ",
    avatar: "🌍",
    tags: ["#ワーホリ", "#看護師", "#医療"],
    headline: "聴診器片手に世界を旅する救急ナース",
    summary:
      "看護専門学校卒業後に救急病院へ。ワーホリで海外救急を見学し、現在は国内の救急と訪問看護を掛け持ち。",
    keywords: ["看護", "救急", "訪問看護", "ワーホリ"],
    introduction:
      "災害ボランティアで無力さを感じ、まずは救急医療を学ぶと決めた。",
    quote: "第一声で安心してもらえるかが勝負。",
    updatedAt: "2024-02-02",
    score: 84,
    timeline: [
      {
        label: "17歳",
        description: "災害ボランティアで救護所のサポートを経験。",
        reason: "無力さを感じ、看護の技術を身につけたいと決意した。"
      },
      {
        label: "18歳",
        description: "看護専門学校へ進学し、救急救命のサークルに所属。",
        reason: "瞬時の判断訓練ができる環境で力をつけたかった。"
      },
      {
        label: "20歳",
        description: "救急車同乗実習で初めての現場出動を経験。",
        reason: "現場の空気を早いうちに体感し、覚悟を固めたかった。"
      },
      {
        label: "22歳",
        description: "総合病院の救急外来に配属。",
        reason: "最も厳しい現場に飛び込み、基礎体力と判断力を鍛えたかった。"
      },
      {
        label: "23歳",
        description: "英語での問診力を高めるため、夜勤後にオンライン英会話を継続。",
        reason: "外国人患者の不安を減らすには言語の壁を低くしたかった。"
      },
      {
        label: "25歳",
        description: "オーストラリアでワーホリ。救急現場を見学し、訪問看護にも挑戦。",
        reason: "病院から地域へどうつなぐかを自分の目で確かめたかった。"
      },
      {
        label: "26歳",
        description: "帰国後は救急と訪問看護の二足で働き、在宅医療チームを立ち上げ。",
        reason: "救急で得た判断力を地域でも活かし、切れ目をなくしたかった。"
      }
    ],
    interviewAnswers: [
      "夜は救急、日中は訪問看護。シフトを組み合わせて働いています。",
      "災害現場で何もできなかった悔しさが原点。",
      "84点。責任は重いですが、感謝の言葉が直接届くのが励み。",
      "得たのは瞬発力と語学力。失ったのはまとまった睡眠時間。",
      "海外の救急車で働く看護師に“まず呼吸を合わせて”と教わり、患者さんとの向き合い方が変わった。",
      "体力・語学・記録力をバランスよく鍛えると選択肢が増えます。"
    ],
    lessons: ["呼吸を合わせて安心感を作る", "現場を変えると視点が増える"]
  },
  {
    id: "sato-yuto",
    name: "佐藤 悠斗",
    kana: "さとう ゆうと",
    avatar: "🎧",
    tags: ["#ダブルスクール", "#大学生", "#映像"],
    headline: "昼は大学、夜は映像制作の二足わらじクリエイター",
    summary:
      "昼は経済学部でデータ分析、夜は映像スタジオでアシスタント。現在は広告会社で動画ディレクターとして活躍。",
    keywords: ["映像", "ダブルスクール", "大学生", "広告"],
    introduction:
      "高校の文化祭で作った動画が好評で、大学進学後も映像を続けた。",
    quote: "数字で語れる映像は企画が通りやすい。",
    updatedAt: "2024-02-01",
    score: 81,
    timeline: [
      {
        label: "18歳",
        description: "文化祭ムービー制作で映像編集にのめり込み、大学でも続けると決意。",
        reason: "観客の反応を直に感じ、自分の武器になると思った。"
      },
      {
        label: "19歳",
        description: "大学入学と同時に映像スタジオでアルバイト。",
        reason: "現場で段取りを覚え、学校の学びと接続したかった。"
      },
      {
        label: "21歳",
        description: "データ分析ゼミでマーケティングを研究。",
        reason: "映像の効果を数字で説明できるようになりたかった。"
      },
      {
        label: "22歳",
        description: "学生チームで地域企業のPR動画を制作し、表彰される。",
        reason: "大学外でも実績を作り、就職前から信用を得たかった。"
      },
      {
        label: "23歳",
        description: "総合広告代理店に入社し、動画ディレクターに。",
        reason: "企画から検証まで一気通貫で携われる環境を求めた。"
      },
      {
        label: "24歳",
        description: "データアナリストと共同でダッシュボードを開発し、施策改善に活用。",
        reason: "クリエイティブと数字の橋渡し役になりたかった。"
      },
      {
        label: "25歳",
        description: "海外ロケ案件を担当し、多文化チームで制作をリード。",
        reason: "異なる価値観の中でもディレクションできる力をつけたかった。"
      }
    ],
    interviewAnswers: [
      "ブランド動画の企画から撮影、効果測定まで担当しています。",
      "映像とデータの両方を使えば、提案の説得力が増すと思った。",
      "81点。ハードですが、議論で数字を示せるとチームの信頼が高まります。",
      "得たのは企画力と分析力。失ったのは大学のサークル活動。",
      "はじめての大型案件で数字が伸びず落ち込んだ時、教授にフィードバックの読み方を教わり視界が開けた。",
      "やりたいことを2軸に分けて時間割を引くと、両立しやすいです。"
    ],
    lessons: ["データと言葉で伝える", "予定をブロックして二足のわらじを回す"]
  },
  {
    id: "aoyama-karen",
    name: "青山 可憐",
    kana: "あおやま かれん",
    avatar: "🍰",
    tags: ["#専門学校", "#パティシエ", "#進学しない／やめる選択"],
    headline: "高校卒業後すぐパティシエ見習いとして現場へ",
    summary:
      "製菓専門学校を経てフランス菓子店に就職。季節のデザート開発を任され、SNSで全国のファンを持つ。",
    keywords: ["パティシエ", "専門学校", "商品開発", "SNS"],
    introduction:
      "幼少期から祖母とお菓子を作り、手を動かして覚える道を選んだ。",
    quote: "丁寧に作ったものは、写真からも伝わる。",
    updatedAt: "2024-01-31",
    score: 80,
    timeline: [
      {
        label: "16歳",
        description: "祖母と作ったケーキを文化祭で販売し、完売を経験。",
        reason: "お菓子で人を笑顔にできると実感し、進路を決めた。"
      },
      {
        label: "18歳",
        description: "製菓専門学校で基礎技術と衛生管理を徹底的に学ぶ。",
        reason: "現場に出てから困らないよう、基本を身体に刻みたかった。"
      },
      {
        label: "19歳",
        description: "フランス菓子店で研修し、飴細工の技術を磨く。",
        reason: "細工菓子を武器に差別化したかった。"
      },
      {
        label: "20歳",
        description: "老舗パティスリーで前菜デザートを担当。",
        reason: "地元食材の使い方を学び、提案力を磨きたかった。"
      },
      {
        label: "21歳",
        description: "深夜の仕込み改善のため、工程表を作ってチーム共有。",
        reason: "効率化すれば新作開発の時間を捻出できると考えた。"
      },
      {
        label: "23歳",
        description: "SNSで新作の舞台裏を発信し、オンライン限定商品を企画。",
        reason: "遠方のお客さまにも味を届ける方法を探した。"
      },
      {
        label: "25歳",
        description: "シェフ補佐として若手チームをまとめ、季節メニューをプロデュース。",
        reason: "提案から販売まで一気通貫で任される力をつけたいと思った。"
      }
    ],
    interviewAnswers: [
      "仕込みから仕上げまで一通り経験し、週一で新作の試作をしています。",
      "手で覚える仕事に惹かれて、最短で現場へ行きたかった。",
      "80点。朝が早いですが、お客さまの“おいしい”がすぐ届きます。",
      "得たのは集中力と段取り力。失ったのはゆっくりした朝時間。",
      "初の新作が完売した時、スタッフが総出で喜んでくれて“チームで作る仕事”だと実感した。",
      "基礎を徹底するほど応用も自由になるので、焦らず土台を作るのが近道です。"
    ],
    lessons: ["基本の動画を撮り溜めて振り返る", "仕込み段階から試食者を巻き込む"]
  },
  {
    id: "kawamoto-maya",
    name: "川本 真耶",
    kana: "かわもと まや",
    avatar: "🛬",
    tags: ["#専門学校", "#通訳", "#サービス"],
    headline: "語学専門学校から通訳ガイドへ。世界を案内するプロ",
    summary:
      "語学専門学校で英語と中国語を習得し、航空会社の地上職を経てフリーの通訳ガイドに。",
    keywords: ["通訳", "観光", "専門学校", "ガイド"],
    introduction:
      "旅行好きな両親の影響で幼い頃から空港に通い、海外の人と話す仕事を志した。",
    quote: "文化の“間”を説明できると、お客様の表情が変わる。",
    updatedAt: "2024-01-30",
    score: 79,
    timeline: [
      {
        label: "17歳",
        description: "空港でボランティア通訳を経験し、語学を仕事にすると決意。",
        reason: "旅人の不安を言葉でほぐす面白さを知った。"
      },
      {
        label: "18歳",
        description: "語学専門学校で英語・中国語・観光実務を学ぶ。",
        reason: "現場で必要な会話を短期間で身につけたかった。"
      },
      {
        label: "21歳",
        description: "航空会社の地上職に就き、接遇を徹底的に学ぶ。",
        reason: "旅の緊張をほぐす距離感を身につけたかったため。"
      },
      {
        label: "22歳",
        description: "夜間に通訳ガイドの勉強を進め、国家資格を取得。",
        reason: "伝える内容に責任を持つため、資格で信頼を得たかった。"
      },
      {
        label: "24歳",
        description: "フリーランス通訳ガイドとして独立し、ビジネス視察を担当。",
        reason: "自分でツアーを企画し、地域の魅力を伝える自由度を得たかった。"
      },
      {
        label: "25歳",
        description: "美術館ツアーや企業研修プログラムを組み合わせ、テーマ別コースを開発。",
        reason: "“案内役”ではなく“学びの伴走者”として価値を提供したかった。"
      },
      {
        label: "26歳",
        description: "オンラインツアーを開始し、海外在住者向けに日本文化講座を提供。",
        reason: "移動制限下でも継続できる働き方を模索した。"
      }
    ],
    interviewAnswers: [
      "企業視察や美術館ツアーなど、テーマに合わせた通訳と企画を行っています。",
      "空港で困っている旅行者を助けた経験が忘れられず、職業にしたかった。",
      "79点。ハイシーズンは忙しいですが、一期一会の出会いが楽しい。",
      "得たのは異文化の応対力。失ったのは固定の職場仲間。",
      "初めて任された美術館ツアーで、準備した解説ノートが大活躍し、自信につながりました。",
      "“いまの自分にできる最大の準備”を口癖にすると安心して本番に臨めます。"
    ],
    lessons: ["準備ノートをストックする", "説明と雑談の切り替えを設計する"]
  },
  {
    id: "ota-seiji",
    name: "太田 誠司",
    kana: "おおた せいじ",
    avatar: "🔬",
    tags: ["#ダブルスクール", "#研究職", "#会社員"],
    headline: "研究所勤務と夜間大学院で材料開発を極めるエンジニア",
    summary:
      "自動車部品メーカーの研究職。昼は材料実験、夜は大学院で高分子の研究を続け、新素材プロジェクトをリード。",
    keywords: ["研究職", "大学院", "材料", "ダブルスクール"],
    introduction:
      "高校の化学実験に感動し、ものづくり現場で使われる素材を研究したいと考えた。",
    quote: "現場の困りごとを研究テーマにすると、成果がすぐ試せる。",
    updatedAt: "2024-01-29",
    score: 82,
    timeline: [
      {
        label: "21歳",
        description: "大学の研究室で高分子材料の共同研究を経験。",
        reason: "基礎研究と製品開発の橋渡しができる研究者になりたかった。"
      },
      {
        label: "22歳",
        description: "工学部卒業後に自動車部品メーカーへ入社。",
        reason: "量産ラインに近い場所で研究をしたかった。"
      },
      {
        label: "23歳",
        description: "生産技術部と連携し、現場で試作を繰り返す。",
        reason: "机上のデータだけでは伝わらない課題を把握するため。"
      },
      {
        label: "24歳",
        description: "夜間大学院へ進学し、高分子材料の研究を本格化。",
        reason: "社内だけでは得られない知見を取り込みたかった。"
      },
      {
        label: "25歳",
        description: "海外サプライヤーと共同開発を行い、英語で技術議論。",
        reason: "グローバルプロジェクトに早くから関わりたかった。"
      },
      {
        label: "26歳",
        description: "研究成果を試作品の性能評価につなげる仕組みを整備。",
        reason: "研究所と生産現場の距離を縮めたかった。"
      },
      {
        label: "27歳",
        description: "研究成果を製品開発に展開し、新素材チームのリーダーに。",
        reason: "現場に戻って性能検証まで見届けたかった。"
      }
    ],
    interviewAnswers: [
      "昼は実験と評価、夜は大学院で論文を読み、週末に解析をまとめています。",
      "製品化まで見届ける研究者になりたかったから。",
      "82点。忙しいですが、現場で使われる瞬間を見る喜びがあります。",
      "得たのは根気と専門知識。失ったのは自由時間。",
      "ラインの不具合対応で徹夜した時、現場の声を研究テーマにする大切さを痛感しました。",
      "“誰の課題を解くのか”を論文の冒頭に書き出すと、迷子になりません。"
    ],
    lessons: ["研究メモを現場に共有する", "課題の持ち主を明確にする"]
  }
];

const CAREER_PROFILES: CareerProfile[] = PROFILE_INPUTS.map(({ interviewAnswers, ...profile }) => ({
  ...profile,
  interview: INTERVIEW_QUESTIONS.map((question, index) => ({
    question,
    answer: interviewAnswers[index] || ""
  }))
}));

const CareerDictionary = forwardRef<CareerDictionaryHandle, Props>(({ onSelectCareer }, ref) => {
  const [searchQuery, setSearchQuery] = useState("");
  const [viewMode, setViewMode] = useState<"list" | "detail">("list");
  const [selectedProfile, setSelectedProfile] = useState<CareerProfile | null>(null);

  const sortedProfiles = useMemo(() => {
    return [...CAREER_PROFILES].sort(
      (a, b) => new Date(b.updatedAt).getTime() - new Date(a.updatedAt).getTime()
    );
  }, []);

  const filteredProfiles = useMemo(() => {
    const normalizedQuery = searchQuery.trim().toLowerCase();
    if (!normalizedQuery) return sortedProfiles;

    return sortedProfiles.filter((profile) => {
      const haystack = [
        profile.name,
        profile.kana,
        profile.headline,
        profile.summary,
        profile.introduction,
        profile.tags.join(" "),
        profile.keywords.join(" "),
        profile.timeline.map((entry) => `${entry.label} ${entry.description} ${entry.reason}`).join(" ")
      ]
        .join(" ")
        .toLowerCase();
      return haystack.includes(normalizedQuery);
    });
  }, [searchQuery, sortedProfiles]);

  useImperativeHandle(
    ref,
    () => ({
      canGoBack: () => viewMode === "detail",
      goBack: () => {
        setViewMode("list");
        setSelectedProfile(null);
      }
    }),
    [viewMode]
  );

  const handleSelectProfile = (profile: CareerProfile) => {
    setSelectedProfile(profile);
    setViewMode("detail");
    window.scrollTo({ top: 0, behavior: "smooth" });
  };

  return (
    <section className="max-w-4xl mx-auto px-4 py-6 sm:py-8">
      {viewMode === "list" && (
        <div className="bg-white border border-gray-200 rounded-3xl shadow-sm overflow-hidden">
          <div className="px-6 py-6 border-b border-gray-100">
            <p className="text-xs font-semibold text-blue-600 tracking-wide uppercase mb-2">進路図鑑</p>
            <div className="flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between">
              <div>
                <h2 className="text-2xl font-bold text-gray-900">更新順</h2>
                <p className="text-sm text-gray-500">全{CAREER_PROFILES.length}件中、{filteredProfiles.length}件を表示</p>
              </div>
              <div className="flex items-center gap-2 text-xs text-gray-500">
                <span className="inline-flex items-center gap-1 px-3 py-1 rounded-full bg-gray-100">
                  <span>⏱</span>
                  <span>最新投稿を優先</span>
                </span>
              </div>
            </div>
            <div className="mt-5">
              <label htmlFor="career-search" className="sr-only">
                名前・キーワードで検索
              </label>
              <div className="relative">
                <span className="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">🔍</span>
                <input
                  id="career-search"
                  value={searchQuery}
                  onChange={(event) => setSearchQuery(event.target.value)}
                  type="text"
                  placeholder="名前・キーワードで検索"
                  className="w-full rounded-2xl border border-gray-200 px-10 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"
                />
              </div>
            </div>
          </div>

          <div className="divide-y divide-gray-100">
            {filteredProfiles.map((profile) => (
              <button
                key={profile.id}
                type="button"
                onClick={() => handleSelectProfile(profile)}
                className="w-full text-left px-6 py-5 hover:bg-gray-50 focus-visible:bg-gray-50 transition-colors"
              >
                <div className="flex gap-4">
                  <div className="text-4xl" aria-hidden>
                    {profile.avatar}
                  </div>
                  <div className="flex-1 min-w-0">
                    <div className="flex flex-wrap items-baseline justify-between gap-2">
                      <p className="text-lg font-semibold text-gray-900 truncate">
                        {profile.name}
                      </p>
                      <span className="text-xs text-gray-400">
                        {new Date(profile.updatedAt).toLocaleDateString("ja-JP", {
                          month: "numeric",
                          day: "numeric"
                        })}
                        更新
                      </span>
                    </div>
                    <p className="text-xs text-blue-600 font-medium mt-0.5">{profile.headline}</p>
                    <div className="flex flex-wrap gap-2 mt-2">
                      {profile.tags.map((tag) => (
                        <span
                          key={tag}
                          className="text-xs bg-blue-50 text-blue-700 px-2.5 py-1 rounded-full"
                        >
                          {tag}
                        </span>
                      ))}
                    </div>
                    <p className="text-sm text-gray-700 mt-3 line-clamp-2">
                      {profile.summary}
                    </p>
                  </div>
                </div>
              </button>
            ))}

            {filteredProfiles.length === 0 && (
              <p className="px-6 py-12 text-center text-sm text-gray-500">
                条件に合うストーリーが見つかりませんでした。
              </p>
            )}
          </div>
        </div>
      )}

      {viewMode === "detail" && selectedProfile && (
        <article className="bg-white border border-gray-200 rounded-3xl shadow-sm overflow-hidden">
          <div className="px-6 py-7 border-b border-gray-100">
            <div className="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between">
              <div className="flex items-start gap-3">
                <div className="text-5xl" aria-hidden>
                  {selectedProfile.avatar}
                </div>
                <div>
                  <p className="text-sm text-gray-500">{selectedProfile.kana}</p>
                  <h2 className="text-2xl font-bold text-gray-900">{selectedProfile.name}</h2>
                  <p className="text-sm text-blue-600 font-semibold mt-1">{selectedProfile.headline}</p>
                  <div className="flex flex-wrap gap-2 mt-3">
                    {selectedProfile.tags.map((tag) => (
                      <span
                        key={tag}
                        className="text-xs bg-blue-50 text-blue-700 px-3 py-1 rounded-full"
                      >
                        {tag}
                      </span>
                    ))}
                  </div>
                </div>
              </div>
              <div className="text-right">
                <p className="text-xs text-gray-500">自己採点</p>
                <p className="text-4xl font-bold text-gray-900">{selectedProfile.score}点</p>
                <p className="text-xs text-gray-400 mt-1">
                  {new Date(selectedProfile.updatedAt).toLocaleDateString("ja-JP")}
                  更新
                </p>
              </div>
            </div>
          </div>

          <div className="px-6 py-8 space-y-8">
            <section className="bg-gray-50 border border-gray-100 rounded-2xl p-5">
              <p className="text-xs font-semibold text-gray-500 mb-2">紹介文</p>
              <p className="text-sm text-gray-800 leading-relaxed">{selectedProfile.summary}</p>
            </section>

            <section className="bg-blue-50 border border-blue-100 rounded-2xl p-5">
              <p className="text-xs font-semibold text-blue-600 mb-2">歩みと背景</p>
              <p className="text-sm text-gray-800 leading-relaxed">{selectedProfile.introduction}</p>
              <p className="text-sm text-blue-900 italic mt-3">“{selectedProfile.quote}”</p>
            </section>

            <section>
              <p className="text-xs font-semibold text-gray-500 mb-3">キーワード</p>
              <div className="flex flex-wrap gap-2">
                {selectedProfile.keywords.map((keyword) => (
                  <span
                    key={keyword}
                    className="text-xs bg-purple-50 text-purple-700 px-3 py-1 rounded-full"
                  >
                    {keyword}
                  </span>
                ))}
              </div>
            </section>

            <section>
              <div className="flex items-center justify-between mb-4">
                <p className="text-xs font-semibold text-gray-500">人生年表</p>
                <span className="text-xs text-gray-400">選択の背景つき</span>
              </div>
              <div className="space-y-4">
                {selectedProfile.timeline.map((entry) => (
                  <div key={`${selectedProfile.id}-${entry.label}`} className="border border-gray-200 rounded-2xl p-4">
                    <p className="text-xs font-semibold text-blue-600">{entry.label}</p>
                    <p className="text-sm text-gray-900 mt-1">{entry.description}</p>
                    <p className="text-xs text-gray-500 mt-2">選んだ理由：{entry.reason}</p>
                  </div>
                ))}
              </div>
            </section>

            <section>
              <p className="text-xs font-semibold text-gray-500 mb-3">インタビュー</p>
              <div className="space-y-4">
                {selectedProfile.interview.map((item) => (
                  <div key={item.question} className="bg-gray-50 rounded-2xl p-4">
                    <p className="text-xs font-semibold text-blue-600">{item.question}</p>
                    <p className="text-sm text-gray-800 mt-2 leading-relaxed">{item.answer}</p>
                  </div>
                ))}
              </div>
            </section>

            <section>
              <p className="text-xs font-semibold text-gray-500 mb-3">学んだこと</p>
              <ul className="list-disc list-inside text-sm text-gray-800 space-y-1">
                {selectedProfile.lessons.map((lesson) => (
                  <li key={lesson}>{lesson}</li>
                ))}
              </ul>
            </section>

            <section className="flex flex-col gap-3 sm:flex-row">
              <button
                type="button"
                onClick={() => onSelectCareer(selectedProfile)}
                className="flex-1 bg-blue-600 text-white text-sm font-semibold px-6 py-4 rounded-2xl shadow-lg hover:bg-blue-700 transition-colors"
              >
                このストーリーについて話してみる
              </button>
              <button
                type="button"
                onClick={() => {
                  setViewMode("list");
                  setSelectedProfile(null);
                }}
                className="flex-1 border border-gray-200 text-sm font-semibold text-gray-700 px-6 py-4 rounded-2xl hover:bg-gray-50 transition-colors"
              >
                他のストーリーも見る
              </button>
            </section>
          </div>
        </article>
      )}
    </section>
  );
});

CareerDictionary.displayName = "CareerDictionary";

export default CareerDictionary;
